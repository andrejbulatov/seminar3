# Инструкция по работе с Git

![Котик](cat.jpg)

Git - популярная система контроля версий. Программа Git берет на себя контроль версий проекта и позволяет переключаться между ними.

## Создание нового репозитория

Для создания нового репозитория (инициализации) нужно ввести команду:

    git init

## Проверка состояния репозитория

Чтобы проверить текущее состояние репозитория нужно ввести команду:

    git status

## Добавление содержимого рабочего каталога в индекс

Для того чтобы добавить содержимое рабочего каталога в индекс для последующего коммита используется команда:

    git add Имя файла

## Зафиксировать и сохранить изменения

Для того чтобы взять все данные, добавленные в индекс с помощью git add и сохранить их слепок во внутренней базе данных ипользуется команда:

    git commit

После ввода данных обычно в wim появляется строка для ввода сообщения о том, что за коммит делается, после ввода сообщения нужно нажать esc и затем :wq

Для того чтобы перед операцией git commit не выполнять операцию git add и заставить git автоматически индексировать каждый уже отслеживаемый на момент коммита файл ипользуется команда:

    git commit -a

Для того чтобы выполнить команду git commit и передать сообщение коммита без запуска полноценного редактора используется команда:

    git commit -m "Содержание сообщения"

Для одновременного запуска команд git commit -a и git commit -m используется команда:

    git commit -am "Содержание сообщения"

## Журнал изменений

Для отображения истории изменений для текущей ветки используется команда:

    git log

Для просмотра краткой истории изменений (данные по одному изменению помещаются в одну строку) используется команда:

    git log --oneline


Если был произведен переход на одну из предыдущих версий, то при использовании комманд git log и git log --oneline в журнале изменений будут отображаться не все изменения. Для того чтобы увидеть все изменения без возврата в master используются команды соответственно:

    git log --all
    git log --all oneline

Для пролистывания истории испольуются стрелки вверх/вниз. Для выхода из истории изменений необходимо нажать q

## Разница между текущим и сохраненным файлом

Для отображения на экране разницы между текущим и сохраненным файлом используется команда:

    git diff

Для вычисления разницы между любыми двумя версиями файла испольуем:

    git diff хэш первого комита хэш второго комита

## Переключение между версиями

Для переключения между версиями файла и перехода на любую используется команда:

    git checkout хэш коммита

Для перехода в master и отображения файла в последней редакции используется команда:

    git checkout master

**ВАЖНО!** Хэш можно указывать не полностью а только первые несколько символов. Для быстрого написания имени файла нужно набрать первые несколько символов и нажать кнопку tab.

## Ветвление в Git

### Просмотр всех веток

Чтобы посмотреть какие есть ветки в репозитории нужно ввести команду:

    git branch

### Добавление веток

Чтобы добавить ветку нужно ввести команду:

    git branch <branch_name>

где <branch_name> - имя новой ветки

### Удаление ветки

Для того чтобы удалить ветку необходимо ввести команду:

    git branch -d <name_branch>

где <name_branch> - имя удаляемой ветки

### Сливание веток

Для того чтобы произвести сливание веток необходимо использовать команду:

    git merge <name_brabch>

где <name_branch> - имя ветки, которую будум сливать в ветку, в которой находимся сейчас

**ВАЖНО**

В случае когда в ветке которую сливаем и в ветке в которую сливаем представлены различные изменения, возникают конфликты. Существует три варианта их разрешения:

1. Оставлем изменения ветки которую сливаем
2. Оставляем изменения ветки в которую сливаем
3. Оставляем изменения обеих веток

В этом случае VS Code подсказывает пользователю какой вариант выбрать.

После разрешения конфликат обязательно делается коммит!!!

